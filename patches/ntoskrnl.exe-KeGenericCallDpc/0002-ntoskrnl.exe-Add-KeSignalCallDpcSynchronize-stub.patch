From 2b2c07cf76724bdf3eb9cf18ba7f3ac82e20dbf9 Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Sun, 24 May 2020 10:09:05 +1000
Subject: [PATCH 2/3] ntoskrnl.exe: Add KeSignalCallDpcSynchronize stub

Wine-Bug: https://bugs.winehq.org/show_bug.cgi?id=49224
Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/ntoskrnl.exe/ntoskrnl.c        | 9 +++++++++
 dlls/ntoskrnl.exe/ntoskrnl.exe.spec | 1 +
 2 files changed, 10 insertions(+)

diff --git a/dlls/ntoskrnl.exe/ntoskrnl.c b/dlls/ntoskrnl.exe/ntoskrnl.c
index 3975e47ddb08..da20023c968a 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.c
+++ b/dlls/ntoskrnl.exe/ntoskrnl.c
@@ -4018,3 +4018,12 @@ void WINAPI KeGenericCallDpc (PKDEFERRED_ROUTINE routine, void *context)
 {
     FIXME("routine %p, context %p stub.\n", routine, context);
 }
+
+/***********************************************************************
+ *           KeSignalCallDpcSynchronize   (NTOSKRNL.EXE.@)
+ */
+BOOLEAN WINAPI KeSignalCallDpcSynchronize (void *argument)
+{
+    FIXME("argument %p stub.\n", argument);
+    return TRUE;
+}
diff --git a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
index d35eb7c60a40..bf73b1fe85d0 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
+++ b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
@@ -641,6 +641,7 @@
 @ stub KeSetTimeIncrement
 @ stub KeSetTimer
 @ stdcall KeSetTimerEx(ptr int64 long ptr)
+@ stdcall KeSignalCallDpcSynchronize(ptr)
 @ stub KeStackAttachProcess
 @ stub KeSynchronizeExecution
 @ stub KeTerminateThread
-- 
2.26.2

