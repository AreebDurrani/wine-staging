From ee02a657cc17510943c2db6c0bde56b9424c7291 Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Sun, 24 May 2020 10:05:24 +1000
Subject: [PATCH 1/3] ntoskrnl.exe: Add KeGenericCallDpc stub

Wine-bug:https://bugs.winehq.org/show_bug.cgi?id=49224
Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/ntoskrnl.exe/ntoskrnl.c        | 8 ++++++++
 dlls/ntoskrnl.exe/ntoskrnl.exe.spec | 1 +
 2 files changed, 9 insertions(+)

diff --git a/dlls/ntoskrnl.exe/ntoskrnl.c b/dlls/ntoskrnl.exe/ntoskrnl.c
index 773f8c1c3279..3975e47ddb08 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.c
+++ b/dlls/ntoskrnl.exe/ntoskrnl.c
@@ -4010,3 +4010,11 @@ BOOLEAN WINAPI RtlIsNtDdiVersionAvailable(ULONG version)
     FIXME("stub: %d\n", version);
     return FALSE;
 }
+
+/***********************************************************************
+ *           KeGenericCallDpc   (NTOSKRNL.EXE.@)
+ */
+void WINAPI KeGenericCallDpc (PKDEFERRED_ROUTINE routine, void *context)
+{
+    FIXME("routine %p, context %p stub.\n", routine, context);
+}
diff --git a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
index 1a4f26b96303..d35eb7c60a40 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
+++ b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
@@ -546,6 +546,7 @@
 @ stub KeFindConfigurationNextEntry
 @ stub KeFlushEntireTb
 @ stdcall KeFlushQueuedDpcs()
+@ stdcall KeGenericCallDpc(ptr ptr)
 @ stdcall KeGetCurrentThread()
 @ stub KeGetPreviousMode
 @ stub KeGetRecommendedSharedDataAlignment
-- 
2.26.2

