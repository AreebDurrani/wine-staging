From e0a55bd9cf9edea9074852bbb3f359e361aa3c19 Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Sun, 24 May 2020 10:05:24 +1000
Subject: [PATCH] ntoskrnl.exe: Add KeGenericCallDpc stub

Wine-bug:https://bugs.winehq.org/show_bug.cgi?id=49224
Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/ntoskrnl.exe/ntoskrnl.c        | 8 ++++++++
 dlls/ntoskrnl.exe/ntoskrnl.exe.spec | 1 +
 2 files changed, 9 insertions(+)

diff --git a/dlls/ntoskrnl.exe/ntoskrnl.c b/dlls/ntoskrnl.exe/ntoskrnl.c
index 6e7751d26016..7ad7d929e933 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.c
+++ b/dlls/ntoskrnl.exe/ntoskrnl.c
@@ -3999,3 +3999,11 @@ BOOLEAN WINAPI KdRefreshDebuggerNotPresent(void)
 
     return !KdDebuggerEnabled;
 }
+
+/***********************************************************************
+ *           KeGenericCallDpc   (NTOSKRNL.EXE.@)
+ */
+void WINAPI KeGenericCallDpc (PKDEFERRED_ROUTINE routine, void *context)
+{
+    FIXME("routine %p, context %p stub.\n", routine, context);
+}
diff --git a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
index 2c71cdde376c..9176d27e6109 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
+++ b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
@@ -547,6 +547,7 @@
 @ stub KeFindConfigurationNextEntry
 @ stub KeFlushEntireTb
 @ stdcall KeFlushQueuedDpcs()
+@ stdcall KeGenericCallDpc(ptr ptr)
 @ stdcall KeGetCurrentThread()
 @ stub KeGetPreviousMode
 @ stub KeGetRecommendedSharedDataAlignment
-- 
2.26.2

